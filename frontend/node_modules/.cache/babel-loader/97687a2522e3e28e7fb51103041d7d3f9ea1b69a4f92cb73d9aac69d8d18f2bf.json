{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, withDirectives as _withDirectives, vModelText as _vModelText, withModifiers as _withModifiers, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = [\"value\"];\nconst _hoisted_2 = [\"value\"];\nconst _hoisted_3 = {\n  key: 0\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_cache[13] || (_cache[13] = _createElementVNode(\"h2\", null, \"Agendar Consulta\", -1 /* HOISTED */)), _createElementVNode(\"form\", {\n    onSubmit: _cache[4] || (_cache[4] = _withModifiers((...args) => $options.criarAgendamento && $options.criarAgendamento(...args), [\"prevent\"]))\n  }, [_cache[8] || (_cache[8] = _createElementVNode(\"label\", null, \"Paciente:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.paciente_id = $event),\n    required: \"\"\n  }, [_cache[5] || (_cache[5] = _createElementVNode(\"option\", {\n    disabled: \"\",\n    value: \"\"\n  }, \"Selecione um paciente\", -1 /* HOISTED */)), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.pacientes, p => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: p.id,\n      value: p.id\n    }, _toDisplayString(p.nome), 9 /* TEXT, PROPS */, _hoisted_1);\n  }), 128 /* KEYED_FRAGMENT */))], 512 /* NEED_PATCH */), [[_vModelSelect, $data.paciente_id]]), _cache[9] || (_cache[9] = _createElementVNode(\"label\", null, \"Profissional:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.profissional_id = $event),\n    required: \"\"\n  }, [_cache[6] || (_cache[6] = _createElementVNode(\"option\", {\n    disabled: \"\",\n    value: \"\"\n  }, \"Selecione um profissional\", -1 /* HOISTED */)), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.profissionais, f => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: f.id,\n      value: f.id\n    }, _toDisplayString(f.nome), 9 /* TEXT, PROPS */, _hoisted_2);\n  }), 128 /* KEYED_FRAGMENT */))], 512 /* NEED_PATCH */), [[_vModelSelect, $data.profissional_id]]), _cache[10] || (_cache[10] = _createElementVNode(\"label\", null, \"Data e hora:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.data_hora = $event),\n    type: \"datetime-local\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.data_hora]]), _cache[11] || (_cache[11] = _createElementVNode(\"label\", null, \"Status:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.status = $event),\n    required: \"\"\n  }, _cache[7] || (_cache[7] = [_createElementVNode(\"option\", {\n    value: \"Agendado\"\n  }, \"Agendado\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: \"Cancelado\"\n  }, \"Cancelado\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: \"Concluído\"\n  }, \"Concluído\", -1 /* HOISTED */)]), 512 /* NEED_PATCH */), [[_vModelSelect, $data.status]]), _cache[12] || (_cache[12] = _createElementVNode(\"button\", {\n    type: \"submit\"\n  }, \"Agendar\", -1 /* HOISTED */))], 32 /* NEED_HYDRATION */), $data.mensagem ? (_openBlock(), _createElementBlock(\"p\", _hoisted_3, _toDisplayString($data.mensagem), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["key","_createElementBlock","_createElementVNode","onSubmit","_cache","_withModifiers","args","$options","criarAgendamento","$event","$data","paciente_id","required","disabled","value","_Fragment","_renderList","pacientes","p","id","nome","_hoisted_1","profissional_id","profissionais","f","_hoisted_2","data_hora","type","status","mensagem","_hoisted_3","_toDisplayString","_createCommentVNode"],"sources":["E:\\PROGRAMAS\\agenda-facil\\frontend\\src\\components\\AgendamentoForm.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h2>Agendar Consulta</h2>\r\n    <form @submit.prevent=\"criarAgendamento\">\r\n      <label>Paciente:</label>\r\n      <select v-model=\"paciente_id\" required>\r\n        <option disabled value=\"\">Selecione um paciente</option>\r\n        <option v-for=\"p in pacientes\" :key=\"p.id\" :value=\"p.id\">\r\n          {{ p.nome }}\r\n        </option>\r\n      </select>\r\n\r\n      <label>Profissional:</label>\r\n      <select v-model=\"profissional_id\" required>\r\n        <option disabled value=\"\">Selecione um profissional</option>\r\n        <option v-for=\"f in profissionais\" :key=\"f.id\" :value=\"f.id\">\r\n          {{ f.nome }}\r\n        </option>\r\n      </select>\r\n\r\n      <label>Data e hora:</label>\r\n      <input v-model=\"data_hora\" type=\"datetime-local\" required />\r\n\r\n      <label>Status:</label>\r\n      <select v-model=\"status\" required>\r\n        <option value=\"Agendado\">Agendado</option>\r\n        <option value=\"Cancelado\">Cancelado</option>\r\n        <option value=\"Concluído\">Concluído</option>\r\n      </select>\r\n\r\n      <button type=\"submit\">Agendar</button>\r\n    </form>\r\n    <p v-if=\"mensagem\">{{ mensagem }}</p>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      paciente_id: '',\r\n      profissional_id: '',\r\n      data_hora: '',\r\n      status: 'Agendado',\r\n      mensagem: '',\r\n      pacientes: [],\r\n      profissionais: []\r\n    };\r\n  },\r\n  mounted() {\r\n    this.carregarPacientes();\r\n    this.carregarProfissionais();\r\n  },\r\n  methods: {\r\n    async carregarPacientes() {\r\n      try {\r\n        const res = await axios.get('http://localhost:5000/api/pacientes');\r\n        this.pacientes = res.data;\r\n      } catch (err) {\r\n        console.error('Erro ao carregar pacientes:', err);\r\n      }\r\n    },\r\n    async carregarProfissionais() {\r\n      try {\r\n        const res = await axios.get('http://localhost:5000/api/funcionarios');\r\n        this.profissionais = res.data;\r\n      } catch (err) {\r\n        console.error('Erro ao carregar profissionais:', err);\r\n      }\r\n    },\r\n    async criarAgendamento() {\r\n      try {\r\n        await axios.post('http://localhost:5000/api/agendamentos', {\r\n          paciente_id: this.paciente_id,\r\n          profissional_id: this.profissional_id,\r\n          data_hora: this.data_hora,\r\n          status: this.status\r\n        });\r\n        this.mensagem = 'Agendamento criado com sucesso!';\r\n        this.paciente_id = '';\r\n        this.profissional_id = '';\r\n        this.data_hora = '';\r\n        this.status = 'Agendado';\r\n      } catch (error) {\r\n        this.mensagem = 'Erro ao criar agendamento.';\r\n        console.error(error);\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n"],"mappings":";mBAAA;mBAAA;;EAAAA,GAAA;AAAA;;uBACEC,mBAAA,CAgCM,c,4BA/BJC,mBAAA,CAAyB,YAArB,kBAAgB,sBACpBA,mBAAA,CA4BO;IA5BAC,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAHjBC,cAAA,KAAAC,IAAA,KAG2BC,QAAA,CAAAC,gBAAA,IAAAD,QAAA,CAAAC,gBAAA,IAAAF,IAAA,CAAgB;gCACrCJ,mBAAA,CAAwB,eAAjB,WAAS,sB,gBAChBA,mBAAA,CAKS;IAVf,uBAAAE,MAAA,QAAAA,MAAA,MAAAK,MAAA,IAKuBC,KAAA,CAAAC,WAAW,GAAAF,MAAA;IAAEG,QAAQ,EAAR;gCAC5BV,mBAAA,CAAwD;IAAhDW,QAAQ,EAAR,EAAQ;IAACC,KAAK,EAAC;KAAG,uBAAqB,uB,kBAC/Cb,mBAAA,CAESc,SAAA,QATjBC,WAAA,CAO4BN,KAAA,CAAAO,SAAS,EAAdC,CAAC;yBAAhBjB,mBAAA,CAES;MAFuBD,GAAG,EAAEkB,CAAC,CAACC,EAAE;MAAGL,KAAK,EAAEI,CAAC,CAACC;wBAChDD,CAAC,CAACE,IAAI,wBARnBC,UAAA;2EAKuBX,KAAA,CAAAC,WAAW,E,6BAO5BT,mBAAA,CAA4B,eAArB,eAAa,sB,gBACpBA,mBAAA,CAKS;IAlBf,uBAAAE,MAAA,QAAAA,MAAA,MAAAK,MAAA,IAauBC,KAAA,CAAAY,eAAe,GAAAb,MAAA;IAAEG,QAAQ,EAAR;gCAChCV,mBAAA,CAA4D;IAApDW,QAAQ,EAAR,EAAQ;IAACC,KAAK,EAAC;KAAG,2BAAyB,uB,kBACnDb,mBAAA,CAESc,SAAA,QAjBjBC,WAAA,CAe4BN,KAAA,CAAAa,aAAa,EAAlBC,CAAC;yBAAhBvB,mBAAA,CAES;MAF2BD,GAAG,EAAEwB,CAAC,CAACL,EAAE;MAAGL,KAAK,EAAEU,CAAC,CAACL;wBACpDK,CAAC,CAACJ,IAAI,wBAhBnBK,UAAA;2EAauBf,KAAA,CAAAY,eAAe,E,+BAOhCpB,mBAAA,CAA2B,eAApB,cAAY,sB,gBACnBA,mBAAA,CAA4D;IArBlE,uBAAAE,MAAA,QAAAA,MAAA,MAAAK,MAAA,IAqBsBC,KAAA,CAAAgB,SAAS,GAAAjB,MAAA;IAAEkB,IAAI,EAAC,gBAAgB;IAACf,QAAQ,EAAR;iDAAjCF,KAAA,CAAAgB,SAAS,E,+BAEzBxB,mBAAA,CAAsB,eAAf,SAAO,sB,gBACdA,mBAAA,CAIS;IA5Bf,uBAAAE,MAAA,QAAAA,MAAA,MAAAK,MAAA,IAwBuBC,KAAA,CAAAkB,MAAM,GAAAnB,MAAA;IAAEG,QAAQ,EAAR;gCACvBV,mBAAA,CAA0C;IAAlCY,KAAK,EAAC;EAAU,GAAC,UAAQ,qBACjCZ,mBAAA,CAA4C;IAApCY,KAAK,EAAC;EAAW,GAAC,WAAS,qBACnCZ,mBAAA,CAA4C;IAApCY,KAAK,EAAC;EAAW,GAAC,WAAS,oB,2CAHpBJ,KAAA,CAAAkB,MAAM,E,+BAMvB1B,mBAAA,CAAsC;IAA9ByB,IAAI,EAAC;EAAQ,GAAC,SAAO,qB,4BAEtBjB,KAAA,CAAAmB,QAAQ,I,cAAjB5B,mBAAA,CAAqC,KAhCzC6B,UAAA,EAAAC,gBAAA,CAgC0BrB,KAAA,CAAAmB,QAAQ,oBAhClCG,mBAAA,e","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}