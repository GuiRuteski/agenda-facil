{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: 'PainelView',\n  data() {\n    return {\n      usuario: {}\n    };\n  },\n  async created() {\n    const token = localStorage.getItem('token');\n    try {\n      const res = await axios.get('http://localhost:5000/api/auth/me', {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      this.usuario = res.data;\n    } catch (error) {\n      console.error('Erro ao carregar usuário:', error);\n      alert('Sessão expirada ou inválida. Faça login novamente.');\n      this.$router.push('/login');\n    }\n  },\n  methods: {\n    logout() {\n      localStorage.removeItem('token');\n      this.$router.push('/login');\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","usuario","created","token","localStorage","getItem","res","get","headers","Authorization","error","console","alert","$router","push","methods","logout","removeItem"],"sources":["E:\\PROGRAMAS\\agenda-facil\\frontend\\src\\views\\Painel.vue"],"sourcesContent":["<template>\r\n  <div class=\"painel\">\r\n    <h1>Bem-vindo, {{ usuario.nome }}</h1>\r\n    <p><strong>Email:</strong> {{ usuario.email }}</p>\r\n    <p> v-if=\"usuario.funcionario\"></p>\r\n      <p><strong>Tipo:</strong> {{ usuario.funcionario.tipo }}</p>\r\n      <p><strong>Nome:</strong> {{ usuario.funcionario.nome }}</p>\r\n      <p><strong>CRM:</strong> {{ usuario.funcionario.crm || 'N/A' }}</p>\r\n      <p><strong>Telefone:</strong> {{ usuario.funcionario.telefone || 'N/A' }}</p>\r\n      <p><strong>Endereço:</strong> {{ usuario.funcionario.endereco || 'N/A' }}</p>\r\n      <p><strong>Data de Nascimento:</strong> {{ usuario.funcionario.data_nascimento || 'N/A' }}</p>\r\n\r\n      <strong>Especialidade:</strong> {{ usuario.funcionario.especialidade || 'N/A' }}\r\n    \r\n    <button @click=\"logout\">Sair</button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  name: 'PainelView',\r\n  data() {\r\n    return {\r\n      usuario: {}\r\n    }\r\n  },\r\n  async created() {\r\n    const token = localStorage.getItem('token')\r\n\r\n    try {\r\n      const res = await axios.get('http://localhost:5000/api/auth/me', {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`\r\n        }\r\n      })\r\n      this.usuario = res.data\r\n    } catch (error) {\r\n      console.error('Erro ao carregar usuário:', error)\r\n      alert('Sessão expirada ou inválida. Faça login novamente.')\r\n      this.$router.push('/login')\r\n    }\r\n  },\r\n  methods: {\r\n    logout() {\r\n      localStorage.removeItem('token')\r\n      this.$router.push('/login')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.painel {\r\n  padding: 2rem;\r\n  font-family: Arial, sans-serif;\r\n}\r\nbutton {\r\n  margin-top: 1rem;\r\n  padding: 0.5rem 1rem;\r\n  cursor: pointer;\r\n}\r\n</style>\r\n"],"mappings":"AAmBA,OAAOA,KAAI,MAAO,OAAM;AAExB,eAAe;EACbC,IAAI,EAAE,YAAY;EAClBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,OAAO,EAAE,CAAC;IACZ;EACF,CAAC;EACD,MAAMC,OAAOA,CAAA,EAAG;IACd,MAAMC,KAAI,GAAIC,YAAY,CAACC,OAAO,CAAC,OAAO;IAE1C,IAAI;MACF,MAAMC,GAAE,GAAI,MAAMR,KAAK,CAACS,GAAG,CAAC,mCAAmC,EAAE;QAC/DC,OAAO,EAAE;UACPC,aAAa,EAAE,UAAUN,KAAK;QAChC;MACF,CAAC;MACD,IAAI,CAACF,OAAM,GAAIK,GAAG,CAACN,IAAG;IACxB,EAAE,OAAOU,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,2BAA2B,EAAEA,KAAK;MAChDE,KAAK,CAAC,oDAAoD;MAC1D,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,QAAQ;IAC5B;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,MAAMA,CAAA,EAAG;MACPZ,YAAY,CAACa,UAAU,CAAC,OAAO;MAC/B,IAAI,CAACJ,OAAO,CAACC,IAAI,CAAC,QAAQ;IAC5B;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}